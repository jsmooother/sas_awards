<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>{% block title %}SAS Awards{% endblock %}</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    html { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    body {
      padding-bottom: env(safe-area-inset-bottom);
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Helvetica Neue", sans-serif;
      margin: 0; background: #f5f5f7; color: #1d1d1f;
      font-size: 15px; line-height: 1.47; letter-spacing: -0.01em;
    }
    .layout { display: flex; min-height: 100vh; }
    .sidebar {
      width: 260px; background: rgba(255,255,255,0.98);
      padding: 1.5rem 0; flex-shrink: 0;
      border-right: 1px solid rgba(0,0,0,0.06);
    }
    .sidebar-brand {
      padding: 0 1.5rem 1.25rem; font-size: 1.25rem; font-weight: 600;
      color: #1d1d1f; letter-spacing: -0.025em;
    }
    .sidebar-section { padding: 0.5rem 0; }
    .sidebar-section-title {
      padding: 0.4rem 1.5rem; font-size: 0.6875rem; font-weight: 600;
      color: #86868b; text-transform: uppercase; letter-spacing: 0.06em;
    }
    .sidebar a {
      display: flex; align-items: center; gap: 0.75rem;
      padding: 0.6rem 1.5rem; color: #515154; text-decoration: none;
      font-size: 0.9375rem; font-weight: 500;
      border-left: 3px solid transparent; margin-left: 0;
      transition: background 0.2s, color 0.2s;
    }
    .sidebar a:hover { background: #f5f5f7; color: #1d1d1f; }
    .sidebar a.active { background: #e8f4ff; color: #007aff; border-left-color: #007aff; }
    .sidebar-icon { width: 20px; text-align: center; font-size: 1rem; opacity: 0.7; }
    .main { flex: 1; padding: 2rem 2.5rem; overflow-x: auto; max-width: 1200px; }
    .page-header { margin-bottom: 2rem; }
    .page-header-with-search { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1.5rem; }
    .page-header-with-search .page-title { margin: 0; }
    .dashboard-search { display: flex; align-items: center; gap: 0.75rem; }
    .page-title {
      font-size: 2rem; font-weight: 600; color: #1d1d1f; margin: 0 0 0.25rem 0;
      letter-spacing: -0.035em; line-height: 1.2;
    }
    .page-title .count { color: #86868b; font-weight: 500; font-size: 1.25rem; }
    .tabs { display: flex; gap: 0; margin-bottom: 1.5rem; background: rgba(0,0,0,0.04); border-radius: 10px; padding: 4px; width: fit-content; }
    .tabs a {
      padding: 0.5rem 1rem; font-size: 0.875rem; font-weight: 500; color: #515154;
      text-decoration: none; border-radius: 8px; transition: all 0.2s;
    }
    .tabs a:hover { color: #1d1d1f; }
    .tabs a.active { background: #fff; color: #007aff; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
    .card {
      background: #fff; border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
      margin-bottom: 1.5rem; overflow: hidden;
    }
    .card-inner { padding: 1.5rem 1.75rem; }
    .toolbar { display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; margin-bottom: 1.25rem; }
    .search-box {
      display: flex; align-items: center; padding: 0.65rem 1rem;
      background: rgba(0,0,0,0.04); border-radius: 10px; width: 240px;
      border: 1px solid transparent; transition: border 0.2s, background 0.2s;
    }
    .search-box:focus-within { background: #fff; border-color: rgba(0,122,255,0.3); box-shadow: 0 0 0 3px rgba(0,122,255,0.1); }
    .search-box input { border: none; background: transparent; font-size: 0.9375rem; width: 100%; outline: none; }
    .search-box input::placeholder { color: #86868b; }
    .filters { display: flex; gap: 1rem; flex-wrap: wrap; align-items: flex-end; }
    .filters label { display: flex; flex-direction: column; gap: 0.35rem; font-size: 0.75rem; font-weight: 500; color: #86868b; }
    .filters input, .filters select {
      padding: 0.5rem 0.75rem; font-size: 0.9375rem; border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.12); background: #fff; min-width: 100px;
      transition: border 0.2s, box-shadow 0.2s;
    }
    .filters input:focus, .filters select:focus { outline: none; border-color: #007aff; box-shadow: 0 0 0 3px rgba(0,122,255,0.15); }
    .filters input[type="text"] { min-width: 140px; }
    .filters input[type="date"] { min-width: 130px; }
    .filters input[type="number"] { width: 70px; min-width: 70px; }
    .filters select { cursor: pointer; }
    .filters button, .btn-primary {
      padding: 0.55rem 1.25rem; font-size: 0.9375rem; font-weight: 500;
      background: #007aff; color: #fff; border: none; border-radius: 10px;
      cursor: pointer; transition: background 0.2s, transform 0.1s;
    }
    .filters button:hover, .btn-primary:hover { background: #0051d5; }
    .filters button:active, .btn-primary:active { transform: scale(0.98); }
    table { width: 100%; border-collapse: collapse; font-size: 0.9375rem; }
    th, td { padding: 0.875rem 1.25rem; text-align: left; border-bottom: 1px solid rgba(0,0,0,0.06); }
    th { background: rgba(0,0,0,0.02); font-weight: 600; color: #515154; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; }
    tbody tr:hover { background: rgba(0,0,0,0.02); }
    tbody tr:last-child td { border-bottom: none; }
    .table-hint { color: #86868b; font-size: 0.875rem; margin: 1rem 0 0; }
    .msg { padding: 1rem 1.25rem; background: #fff9e6; border-radius: 10px; margin-bottom: 1.25rem; color: #8b6914; font-size: 0.9375rem; border: 1px solid rgba(255,193,7,0.3); }
    .view-list { list-style: none; padding: 0; margin: 0; }
    .view-list li { padding: 0.75rem 0; border-bottom: 1px solid rgba(0,0,0,0.06); }
    .view-list li:last-child { border-bottom: none; }
    .view-list a { font-weight: 500; color: #007aff; text-decoration: none; }
    .view-list a:hover { text-decoration: underline; }
    .dashboard-hint { color: #86868b; font-size: 0.875rem; margin-top: 1.5rem; }
    .stat-row { display: flex; gap: 1.25rem; flex-wrap: wrap; }
    .stat-item {
      padding: 1.5rem 1.75rem; background: rgba(0,0,0,0.03); border-radius: 12px;
      min-width: 120px; transition: background 0.2s;
    }
    .stat-item:hover { background: rgba(0,0,0,0.05); }
    .stat-item-total { background: #e8f4ff; border: 1px solid rgba(0,122,255,0.2); }
    .stat-label { font-size: 0.6875rem; color: #86868b; font-weight: 600; text-transform: uppercase; letter-spacing: 0.06em; }
    .stat-value { font-size: 1.75rem; font-weight: 600; margin: 0.35rem 0; letter-spacing: -0.02em; }
    .stat-sublabel { font-size: 0.8125rem; color: #86868b; }
    .card-section-title { margin: 0 0 1.25rem 0; font-size: 1rem; font-weight: 600; color: #1d1d1f; letter-spacing: -0.02em; }
    .view-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 1rem; }
    .view-card {
      display: block; padding: 1.25rem 1.5rem; background: rgba(0,0,0,0.03);
      border-radius: 12px; text-decoration: none; color: inherit;
      border: 1px solid rgba(0,0,0,0.06); transition: all 0.2s;
    }
    .view-card:hover {
      background: #e8f4ff; border-color: rgba(0,122,255,0.2);
      box-shadow: 0 4px 12px rgba(0,122,255,0.08);
    }
    .view-card-label { display: block; font-weight: 600; color: #007aff; margin-bottom: 0.4rem; font-size: 1rem; }
    .view-card-desc { display: block; font-size: 0.8125rem; color: #86868b; line-height: 1.4; }
    .card-action { margin-bottom: 1.5rem; }
    .card-action-content { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1.25rem; }
    .card-action-title { margin: 0 0 0.3rem 0; font-size: 1.0625rem; font-weight: 600; color: #1d1d1f; }
    .card-action-desc { margin: 0; font-size: 0.875rem; color: #86868b; }
    .row-clickable { cursor: pointer; }
    .row-clickable:hover { background: rgba(0,122,255,0.06); }
    .info-btn { background: none; border: none; cursor: pointer; font-size: 1rem; color: #007aff; padding: 0.25rem; line-height: 1; }
    .info-btn:hover { color: #0051d5; }
    .modal-overlay { position: fixed; inset: 0; z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem; }
    .modal-overlay[hidden] { display: none; }
    .modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.4); }
    .modal-content { position: relative; background: #fff; border-radius: 12px; max-width: 420px; width: 100%; max-height: 90vh; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.2); }
    .modal-header { display: flex; align-items: center; justify-content: space-between; padding: 1.25rem 1.5rem; border-bottom: 1px solid rgba(0,0,0,0.06); }
    .modal-title { margin: 0; font-size: 1.125rem; font-weight: 600; }
    .modal-close { background: none; border: none; font-size: 1.5rem; color: #86868b; cursor: pointer; padding: 0 0.25rem; line-height: 1; }
    .modal-close:hover { color: #1d1d1f; }
    .modal-body { padding: 1.5rem; overflow-y: auto; max-height: 60vh; }
    .modal-detail-leg { margin-bottom: 1.25rem; padding: 1rem; background: rgba(0,0,0,0.03); border-radius: 8px; }
    .modal-detail-leg:last-child { margin-bottom: 0; }
    .modal-detail-route { font-weight: 600; margin-bottom: 0.5rem; }
    .modal-detail-date { font-size: 0.875rem; color: #86868b; margin-bottom: 0.5rem; }
    .modal-detail-cabins { font-size: 0.875rem; }
    .modal-detail-flights { font-size: 0.875rem; font-family: ui-monospace, monospace; }
    .modal-error { color: #c00; font-size: 0.9rem; }
    @media (max-width: 768px) {
      .layout { flex-direction: column; }
      .sidebar {
        width: 100%; padding: 0.75rem 0; border-right: none; border-bottom: 1px solid rgba(0,0,0,0.06);
        display: flex; flex-direction: column;
      }
      .sidebar-brand { padding: 0 1rem 0.5rem; font-size: 1.1rem; }
      .sidebar-section {
        display: flex; overflow-x: auto; padding: 0.5rem 0; gap: 0;
        -webkit-overflow-scrolling: touch;
      }
      .sidebar-section-title { display: none; }
      .sidebar a {
        padding: 0.65rem 1rem; min-height: 44px; min-width: 44px; flex: 0 0 auto; white-space: nowrap;
        border-left: none; border-bottom: 3px solid transparent; justify-content: center;
      }
      .sidebar a.active { border-left: none; border-bottom-color: #007aff; }
      .main { padding: 1.25rem 1rem; padding-left: max(1rem, env(safe-area-inset-left)); padding-right: max(1rem, env(safe-area-inset-right)); max-width: none; }
      .page-title { font-size: 1.5rem; }
      .page-header-with-search { flex-direction: column; align-items: stretch; gap: 1rem; }
      .dashboard-search { flex-direction: column; }
      .search-box { width: 100%; min-height: 44px; }
      .tabs { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; padding: 4px 0; }
      .tabs a { white-space: nowrap; padding: 0.5rem 0.75rem; }
      .card-inner { padding: 1rem 1.25rem; }
      .toolbar { flex-direction: column; align-items: stretch; }
      .toolbar .search-box { width: 100%; min-width: 0; }
      .filters { flex-direction: column; }
      .filters input, .filters select { min-width: 0; width: 100%; font-size: 16px; }
      .filters button, .btn-primary { min-height: 44px; width: 100%; }
      .stat-row { flex-direction: column; }
      .stat-item { min-width: 0; }
      .view-grid { grid-template-columns: 1fr; }
      .view-card { min-height: 44px; padding: 1rem 1.25rem; }
      .card-action-content { flex-direction: column; align-items: stretch; text-align: center; }
      table { font-size: 0.875rem; }
      th, td { padding: 0.65rem 0.75rem; }
      .table-wrapper { overflow-x: auto; -webkit-overflow-scrolling: touch; margin: 0 -1.25rem; padding: 0 1.25rem; }
    }
    @media (max-width: 480px) {
      .page-title { font-size: 1.35rem; }
      .stat-value { font-size: 1.5rem; }
    }
  </style>
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="sidebar-brand">SAS Awards</div>
      <div class="sidebar-section">
        <div class="sidebar-section-title">General</div>
        <a href="/" class="{% if request.path == '/' %}active{% endif %}"><span class="sidebar-icon">◇</span> Dashboard</a>
        <a href="/search" class="{% if request.path == '/search' %}active{% endif %}"><span class="sidebar-icon">○</span> Search</a>
      </div>
      <div class="sidebar-section">
        <div class="sidebar-section-title">Views</div>
        <a href="/all" class="{% if request.path == '/all' %}active{% endif %}"><span class="sidebar-icon">▸</span> All Europe</a>
        <a href="/business" class="{% if request.path == '/business' %}active{% endif %}"><span class="sidebar-icon">▸</span> Business</a>
        <a href="/plus" class="{% if request.path == '/plus' %}active{% endif %}"><span class="sidebar-icon">▸</span> Plus & Business</a>
        <a href="/weekend" class="{% if request.path == '/weekend' %}active{% endif %}"><span class="sidebar-icon">▸</span> Weekend</a>
        <a href="/new" class="{% if request.path == '/new' %}active{% endif %}"><span class="sidebar-icon">▸</span> New today</a>
      </div>
    </aside>
    <main class="main">
      {% block content %}{% endblock %}
    </main>
  </div>
</body>
</html>
